[debug] [2025-08-21T16:09:43.137Z] ----------------------------------------------------------------------
[debug] [2025-08-21T16:09:43.139Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tmody\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-08-21T16:09:43.139Z] CLI Version:   14.12.1
[debug] [2025-08-21T16:09:43.139Z] Platform:      win32
[debug] [2025-08-21T16:09:43.139Z] Node Version:  v22.17.0
[debug] [2025-08-21T16:09:43.139Z] Time:          Thu Aug 21 2025 19:09:43 GMT+0300 (Arabian Standard Time)
[debug] [2025-08-21T16:09:43.139Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-08-21T16:09:43.264Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-21T16:09:43.265Z] > authorizing via signed-in user (alqabastechnology@gmail.com)
[debug] [2025-08-21T16:09:43.265Z] [iam] checking project alqabas-80720 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-08-21T16:09:43.265Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:43.265Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:43.266Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions [none]
[debug] [2025-08-21T16:09:43.266Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions x-goog-quota-user=projects/alqabas-80720
[debug] [2025-08-21T16:09:43.266Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-21T16:09:44.235Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions 200
[debug] [2025-08-21T16:09:44.235Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-08-21T16:09:44.235Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:44.235Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:44.235Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/alqabas-80720/serviceAccounts/alqabas-80720@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-08-21T16:09:44.235Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/alqabas-80720/serviceAccounts/alqabas-80720@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-08-21T16:09:46.281Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/alqabas-80720/serviceAccounts/alqabas-80720@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-08-21T16:09:46.281Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/alqabas-80720/serviceAccounts/alqabas-80720@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'alqabas-80720'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2025-08-21T16:09:50.171Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:50.171Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:50.171Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 [none]
[debug] [2025-08-21T16:09:52.115Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 200
[debug] [2025-08-21T16:09:52.115Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 {"projectNumber":"494111208967","projectId":"alqabas-80720","lifecycleState":"ACTIVE","name":"ALqabas","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-08-15T21:41:34.106095Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-08-21T16:09:52.117Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:52.117Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:52.118Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/alqabas-80720/adminSdkConfig [none]
[debug] [2025-08-21T16:09:53.490Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/alqabas-80720/adminSdkConfig 200
[debug] [2025-08-21T16:09:53.490Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/alqabas-80720/adminSdkConfig {"projectId":"alqabas-80720","databaseURL":"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"alqabas-80720.firebasestorage.app"}
[debug] [2025-08-21T16:09:53.490Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:53.490Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:53.490Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/alqabas-80720/configs [none]
[debug] [2025-08-21T16:09:54.593Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/alqabas-80720/configs 200
[debug] [2025-08-21T16:09:54.593Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/alqabas-80720/configs {}
[debug] [2025-08-21T16:09:54.594Z] Validating nodejs source
[debug] [2025-08-21T16:09:55.455Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "lib/index.js",
  "dependencies": {
    "expo-server-sdk": "^4.0.0",
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0",
    "typescript": "^5.7.3"
  },
  "private": true
}
[debug] [2025-08-21T16:09:55.455Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-08-21T16:09:55.458Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-08-21T16:09:55.469Z] Found firebase-functions binary at 'D:\q\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8648

[debug] [2025-08-21T16:09:55.700Z] Got response from /__/functions.yaml {"endpoints":{"sendNewRequestNotificationOnCreate":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"serviceRequests/{requestId}"},"retry":false},"entryPoint":"sendNewRequestNotificationOnCreate"},"serviceRequestUpdateManager":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.updated","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"serviceRequests/{requestId}"},"retry":false},"entryPoint":"serviceRequestUpdateManager"},"sendAnnouncementNotification":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"announcements/{announcementId}"},"retry":false},"entryPoint":"sendAnnouncementNotification"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-08-21T16:09:59.734Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-08-21T16:09:59.735Z] > authorizing via signed-in user (alqabastechnology@gmail.com)
[debug] [2025-08-21T16:09:59.735Z] [iam] checking project alqabas-80720 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-08-21T16:09:59.735Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:59.735Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:09:59.735Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions [none]
[debug] [2025-08-21T16:09:59.735Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions x-goog-quota-user=projects/alqabas-80720
[debug] [2025-08-21T16:09:59.735Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-21T16:10:01.684Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions 200
[debug] [2025-08-21T16:10:01.684Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-08-21T16:10:01.684Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:01.684Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:01.684Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/alqabas-80720/instances pageSize=100&pageToken=
[debug] [2025-08-21T16:10:03.811Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/alqabas-80720/instances 200
[debug] [2025-08-21T16:10:03.811Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/alqabas-80720/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged D:\q\functions (85.04 KB) for uploading 
[debug] [2025-08-21T16:10:03.852Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:03.852Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:03.852Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/alqabas-80720/locations/-/functions [none]
[debug] [2025-08-21T16:10:05.246Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/alqabas-80720/locations/-/functions 200
[debug] [2025-08-21T16:10:05.246Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/alqabas-80720/locations/-/functions {}
[debug] [2025-08-21T16:10:05.246Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:05.246Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:05.246Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-08-21T16:10:06.507Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/-/functions 200
[debug] [2025-08-21T16:10:06.507Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/-/functions {"functions":[{"name":"projects/alqabas-80720/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/494111208967/locations/us-central1/builds/bf9b5ad6-b497-4130-92d2-93f78bc52bb5","runtime":"nodejs22","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-494111208967-us-central1","object":"helloWorld/function-source.zip","generation":"1755792196200718"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/alqabas-80720/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-494111208967-us-central1","object":"helloWorld/function-source.zip","generation":"1755792196200718"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/alqabas-80720/serviceAccounts/494111208967-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/alqabas-80720/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}","GCLOUD_PROJECT":"alqabas-80720","EVENTARC_CLOUD_EVENT_SOURCE":"projects/alqabas-80720/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"maxInstanceCount":10,"ingressSettings":"ALLOW_ALL","uri":"https://helloworld-icest5ddgq-uc.a.run.app","serviceAccountEmail":"494111208967-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"helloworld-00001-qim","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-08-21T16:04:54.680329143Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"8e2e8c3069bf8b89489acbae16f417cc75e7003f"},"environment":"GEN_2","url":"https://us-central1-alqabas-80720.cloudfunctions.net/helloWorld","createTime":"2025-08-21T16:03:16.442993764Z","satisfiesPzi":true}]}
[debug] [2025-08-21T16:10:06.508Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:06.509Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:06.509Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/alqabas-80720/databases/(default) [none]
[debug] [2025-08-21T16:10:07.932Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/alqabas-80720/databases/(default) 200
[debug] [2025-08-21T16:10:07.932Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/alqabas-80720/databases/(default) {"name":"projects/alqabas-80720/databases/(default)","uid":"2e7af218-df2c-49e6-99b2-ed9765ccf84f","createTime":"2025-08-19T13:02:04.552171Z","updateTime":"2025-08-19T13:02:04.552171Z","locationId":"me-central2","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2025-08-21T15:10:08.102464Z","appEngineIntegrationMode":"DISABLED","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","databaseEdition":"STANDARD","freeTier":true,"etag":"IMyK0pWlnI8DMMjF27T7lo8D"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2025-08-21T16:10:07.935Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:07.935Z] Checked if tokens are valid: true, expires at: 1755795573236
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2025-08-21T16:10:07.935Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:07.935Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:07.935Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-21T16:10:07.935Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/pubsub.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/494111208967
[debug] [2025-08-21T16:10:07.935Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/pubsub.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-21T16:10:07.936Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2025-08-21T16:10:07.936Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/eventarc.googleapis.com:generateServiceIdentity x-goog-quota-user=projects/494111208967
[debug] [2025-08-21T16:10:07.936Z] >>> [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/eventarc.googleapis.com:generateServiceIdentity {}
[debug] [2025-08-21T16:10:10.098Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-21T16:10:10.098Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-494111208967@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"114844567379113134102"}}
[debug] [2025-08-21T16:10:10.246Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2025-08-21T16:10:10.247Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/494111208967/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-494111208967@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"104558259674656405055"}}
[debug] [2025-08-21T16:10:10.248Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:10.248Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:10.248Z] >>> [apiv2][query] GET https://compute.googleapis.com/compute/v1/projects/494111208967 [none]
[debug] [2025-08-21T16:10:11.356Z] <<< [apiv2][status] GET https://compute.googleapis.com/compute/v1/projects/494111208967 200
[debug] [2025-08-21T16:10:11.356Z] <<< [apiv2][body] GET https://compute.googleapis.com/compute/v1/projects/494111208967 {"kind":"compute#project","id":"8812870357226261257","creationTimestamp":"2025-08-21T08:06:14.305-07:00","name":"alqabas-80720","commonInstanceMetadata":{"kind":"compute#metadata","fingerprint":"igJtdjM_Dq8="},"quotas":[{"metric":"SNAPSHOTS","limit":1000,"usage":0},{"metric":"NETWORKS","limit":5,"usage":1},{"metric":"FIREWALLS","limit":100,"usage":4},{"metric":"IMAGES","limit":100,"usage":0},{"metric":"STATIC_ADDRESSES","limit":8,"usage":0},{"metric":"ROUTES","limit":200,"usage":0},{"metric":"FORWARDING_RULES","limit":15,"usage":0},{"metric":"TARGET_POOLS","limit":50,"usage":0},{"metric":"HEALTH_CHECKS","limit":75,"usage":0},{"metric":"IN_USE_ADDRESSES","limit":8,"usage":0},{"metric":"TARGET_INSTANCES","limit":50,"usage":0},{"metric":"TARGET_HTTP_PROXIES","limit":10,"usage":0},{"metric":"URL_MAPS","limit":10,"usage":0},{"metric":"BACKEND_SERVICES","limit":50,"usage":0},{"metric":"INSTANCE_TEMPLATES","limit":100,"usage":0},{"metric":"TARGET_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"VPN_TUNNELS","limit":10,"usage":0},{"metric":"BACKEND_BUCKETS","limit":3,"usage":0},{"metric":"ROUTERS","limit":10,"usage":0},{"metric":"TARGET_SSL_PROXIES","limit":10,"usage":0},{"metric":"TARGET_HTTPS_PROXIES","limit":10,"usage":0},{"metric":"SSL_CERTIFICATES","limit":10,"usage":0},{"metric":"SUBNETWORKS","limit":100,"usage":0},{"metric":"TARGET_TCP_PROXIES","limit":10,"usage":0},{"metric":"CPUS_ALL_REGIONS","limit":32,"usage":0},{"metric":"SECURITY_POLICIES","limit":10,"usage":0},{"metric":"SECURITY_POLICY_RULES","limit":100,"usage":0},{"metric":"XPN_SERVICE_PROJECTS","limit":1000,"usage":0},{"metric":"PACKET_MIRRORINGS","limit":20,"usage":0},{"metric":"NETWORK_ENDPOINT_GROUPS","limit":100,"usage":0},{"metric":"INTERCONNECTS","limit":6,"usage":0},{"metric":"SSL_POLICIES","limit":10,"usage":0},{"metric":"GLOBAL_INTERNAL_ADDRESSES","limit":5000,"usage":0},{"metric":"VPN_GATEWAYS","limit":5,"usage":0},{"metric":"MACHINE_IMAGES","limit":100,"usage":0},{"metric":"SECURITY_POLICY_CEVAL_RULES","limit":20,"usage":0},{"metric":"GPUS_ALL_REGIONS","limit":0,"usage":0},{"metric":"EXTERNAL_VPN_GATEWAYS","limit":5,"usage":0},{"metric":"PUBLIC_ADVERTISED_PREFIXES","limit":1,"usage":0},{"metric":"PUBLIC_DELEGATED_PREFIXES","limit":10,"usage":0},{"metric":"STATIC_BYOIP_ADDRESSES","limit":128,"usage":0},{"metric":"NETWORK_FIREWALL_POLICIES","limit":10,"usage":0},{"metric":"INTERNAL_TRAFFIC_DIRECTOR_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_FORWARDING_RULES","limit":15,"usage":0},{"metric":"GLOBAL_INTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_MANAGED_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_EXTERNAL_PROXY_LB_BACKEND_SERVICES","limit":50,"usage":0},{"metric":"GLOBAL_INTERNAL_TRAFFIC_DIRECTOR_BACKEND_SERVICES","limit":250,"usage":0}],"selfLink":"https://www.googleapis.com/compute/v1/projects/alqabas-80720","defaultServiceAccount":"494111208967-compute@developer.gserviceaccount.com","xpnProjectStatus":"UNSPECIFIED_XPN_PROJECT_STATUS","defaultNetworkTier":"PREMIUM","vmDnsSetting":"ZONAL_ONLY","cloudArmorTier":"CA_STANDARD"}
[debug] [2025-08-21T16:10:11.357Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:11.357Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:11.357Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/494111208967:getIamPolicy [none]
[debug] [2025-08-21T16:10:12.366Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/494111208967:getIamPolicy 200
[debug] [2025-08-21T16:10:12.366Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/494111208967:getIamPolicy {"version":1,"etag":"BwY84jo/RtA=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-494111208967@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:494111208967@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-494111208967@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.admin","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com","serviceAccount:alqabas-80720@appspot.gserviceaccount.com"]},{"role":"roles/cloudfunctions.developer","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com"]},{"role":"roles/cloudfunctions.invoker","members":["serviceAccount:alqabas-80720@appspot.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-494111208967@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-494111208967@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-494111208967@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com","serviceAccount:494111208967@cloudservices.gserviceaccount.com","serviceAccount:alqabas-80720@appspot.gserviceaccount.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-494111208967@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com"]},{"role":"roles/firebasedatabase.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-494111208967@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-494111208967@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-494111208967@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-494111208967@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com","serviceAccount:service-494111208967@gcp-sa-pubsub.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountUser","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com","serviceAccount:alqabas-80720@appspot.gserviceaccount.com"]},{"role":"roles/owner","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com","serviceAccount:alqabas-80720@appspot.gserviceaccount.com","serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com","user:alqabastechnology@gmail.com"]},{"role":"roles/run.invoker","members":["serviceAccount:494111208967-compute@developer.gserviceaccount.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-494111208967@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@alqabas-80720.iam.gserviceaccount.com"]}]}
[debug] [2025-08-21T16:10:12.367Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:12.367Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:12.367Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 [none]
[debug] [2025-08-21T16:10:13.304Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 200
[debug] [2025-08-21T16:10:13.305Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/alqabas-80720 {"projectNumber":"494111208967","projectId":"alqabas-80720","lifecycleState":"ACTIVE","name":"ALqabas","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-08-15T21:41:34.106095Z"}
[debug] [2025-08-21T16:10:13.305Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:13.306Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:13.306Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/alqabas-80720/billingInfo [none]
[debug] [2025-08-21T16:10:14.598Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/alqabas-80720/billingInfo 200
[debug] [2025-08-21T16:10:14.598Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/alqabas-80720/billingInfo {"name":"projects/alqabas-80720/billingInfo","projectId":"alqabas-80720","billingAccountName":"billingAccounts/014544-366765-375AC0","billingEnabled":true}
[debug] [2025-08-21T16:10:14.598Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:14.599Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:14.599Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-08-21T16:10:16.149Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-08-21T16:10:16.149Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com/1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip?GoogleAccessId=service-494111208967@gcf-admin-robot.iam.gserviceaccount.com&Expires=1755794416&Signature=Lgy67IPMjl2CceGfbDr5CKAgjIjbPOpaNAQHYkATJS9WrsLbZgpqJYCZZbjLNfPg%2FrgXd0f7LwuS9I3sJA9J%2Bz8%2Frtp0oI2f%2Bt%2F%2FtbKdTQqQUZji1J10PXBVqceplxzs6ZCNyDFoZhruJFmS7K3PXjZflIZr2L1%2BxGKvRbsmocqCAEenGk1BzN8mv2JblIM92yueQ7rEvzkr%2F2HquH6hcxpiSxLeuDUoXE%2BHJauiKf4iR1q7wcL3NpbE3LuI3vDC98Pl%2BAhelGyvV7vATWA2QHjlo3yaXjXd%2FAj1GsbZU6uE20DLxgPvc9TviZAvG4879EUTafTSU5R160B4K1QD2g%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com","object":"1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip"}}
[debug] [2025-08-21T16:10:16.150Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com/1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip GoogleAccessId=service-494111208967%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1755794416&Signature=Lgy67IPMjl2CceGfbDr5CKAgjIjbPOpaNAQHYkATJS9WrsLbZgpqJYCZZbjLNfPg%2FrgXd0f7LwuS9I3sJA9J%2Bz8%2Frtp0oI2f%2Bt%2F%2FtbKdTQqQUZji1J10PXBVqceplxzs6ZCNyDFoZhruJFmS7K3PXjZflIZr2L1%2BxGKvRbsmocqCAEenGk1BzN8mv2JblIM92yueQ7rEvzkr%2F2HquH6hcxpiSxLeuDUoXE%2BHJauiKf4iR1q7wcL3NpbE3LuI3vDC98Pl%2BAhelGyvV7vATWA2QHjlo3yaXjXd%2FAj1GsbZU6uE20DLxgPvc9TviZAvG4879EUTafTSU5R160B4K1QD2g%3D%3D
[debug] [2025-08-21T16:10:16.150Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com/1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip [stream]
[debug] [2025-08-21T16:10:17.837Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com/1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip 200
[debug] [2025-08-21T16:10:17.837Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com/1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] 
The following functions are found in your project but do not exist in your local source code:
	helloWorld(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: creating Node.js 22 (2nd Gen) function sendNewRequestNotificationOnCreate(us-central1)... 
[info] i  functions: creating Node.js 22 (2nd Gen) function serviceRequestUpdateManager(us-central1)... 
[info] i  functions: creating Node.js 22 (2nd Gen) function sendAnnouncementNotification(us-central1)... 
[debug] [2025-08-21T16:10:33.660Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:33.661Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:33.661Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions functionId=sendNewRequestNotificationOnCreate
[debug] [2025-08-21T16:10:33.661Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"name":"projects/alqabas-80720/locations/us-central1/functions/sendNewRequestNotificationOnCreate","buildConfig":{"runtime":"nodejs22","entryPoint":"sendNewRequestNotificationOnCreate","source":{"storageSource":{"bucket":"gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com","object":"1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}","GCLOUD_PROJECT":"alqabas-80720","EVENTARC_CLOUD_EVENT_SOURCE":"projects/alqabas-80720/locations/us-central1/services/sendNewRequestNotificationOnCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendNewRequestNotificationOnCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"38be4062d545c56ec00ec5742b37dfeaff6d16fb"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"serviceRequests/{requestId}","operator":"match-path-pattern"}],"triggerRegion":"me-central2"}}
[debug] [2025-08-21T16:10:36.391Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions 403
[debug] [2025-08-21T16:10:36.391Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"error":{"code":403,"message":"Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendnewrequestnotificationoncreate-803307: Permission denied on 'locations/me-central2' (or it may not exist).","status":"PERMISSION_DENIED"}}
[warn] !  functions: Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=sendNewRequestNotificationOnCreate had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendnewrequestnotificationoncreate-803307: Permission denied on 'locations/me-central2' (or it may not exist). 
[warn] !  functions:  failed to create function projects/alqabas-80720/locations/us-central1/functions/sendNewRequestNotificationOnCreate 
[error] Failed to create function projects/alqabas-80720/locations/us-central1/functions/sendNewRequestNotificationOnCreate
[debug] [2025-08-21T16:10:36.393Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:36.393Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:36.393Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:36.393Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:36.393Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions functionId=serviceRequestUpdateManager
[debug] [2025-08-21T16:10:36.393Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"name":"projects/alqabas-80720/locations/us-central1/functions/serviceRequestUpdateManager","buildConfig":{"runtime":"nodejs22","entryPoint":"serviceRequestUpdateManager","source":{"storageSource":{"bucket":"gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com","object":"1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}","GCLOUD_PROJECT":"alqabas-80720","EVENTARC_CLOUD_EVENT_SOURCE":"projects/alqabas-80720/locations/us-central1/services/serviceRequestUpdateManager","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"serviceRequestUpdateManager","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"38be4062d545c56ec00ec5742b37dfeaff6d16fb"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.updated","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"serviceRequests/{requestId}","operator":"match-path-pattern"}],"triggerRegion":"me-central2"}}
[debug] [2025-08-21T16:10:36.393Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions functionId=sendAnnouncementNotification
[debug] [2025-08-21T16:10:36.393Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"name":"projects/alqabas-80720/locations/us-central1/functions/sendAnnouncementNotification","buildConfig":{"runtime":"nodejs22","entryPoint":"sendAnnouncementNotification","source":{"storageSource":{"bucket":"gcf-v2-uploads-494111208967.us-central1.cloudfunctions.appspot.com","object":"1de0ef83-74b4-4b55-84b4-9f86877c68ca.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}","GCLOUD_PROJECT":"alqabas-80720","EVENTARC_CLOUD_EVENT_SOURCE":"projects/alqabas-80720/locations/us-central1/services/sendAnnouncementNotification","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"sendAnnouncementNotification","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"38be4062d545c56ec00ec5742b37dfeaff6d16fb"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"announcements/{announcementId}","operator":"match-path-pattern"}],"triggerRegion":"me-central2"}}
[debug] [2025-08-21T16:10:38.656Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions 403
[debug] [2025-08-21T16:10:38.656Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"error":{"code":403,"message":"Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/servicerequestupdatemanager-497975: Permission denied on 'locations/me-central2' (or it may not exist).","status":"PERMISSION_DENIED"}}
[warn] !  functions: Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=serviceRequestUpdateManager had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/servicerequestupdatemanager-497975: Permission denied on 'locations/me-central2' (or it may not exist). 
[warn] !  functions:  failed to create function projects/alqabas-80720/locations/us-central1/functions/serviceRequestUpdateManager 
[error] Failed to create function projects/alqabas-80720/locations/us-central1/functions/serviceRequestUpdateManager
[debug] [2025-08-21T16:10:39.070Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions 403
[debug] [2025-08-21T16:10:39.070Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions {"error":{"code":403,"message":"Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendannouncementnotification-633659: Permission denied on 'locations/me-central2' (or it may not exist).","status":"PERMISSION_DENIED"}}
[warn] !  functions: Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=sendAnnouncementNotification had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendannouncementnotification-633659: Permission denied on 'locations/me-central2' (or it may not exist). 
[warn] !  functions:  failed to create function projects/alqabas-80720/locations/us-central1/functions/sendAnnouncementNotification 
[error] Failed to create function projects/alqabas-80720/locations/us-central1/functions/sendAnnouncementNotification
[debug] [2025-08-21T16:10:39.076Z] Total Function Deployment time: 5415
[debug] [2025-08-21T16:10:39.076Z] 3 Functions Deployed
[debug] [2025-08-21T16:10:39.076Z] 3 Functions Errored
[debug] [2025-08-21T16:10:39.076Z] 0 Function Deployments Aborted
[debug] [2025-08-21T16:10:39.076Z] Average Function Deployment time: 4382.666666666667
[info] 
[info] Functions deploy had errors with the following functions:
	sendAnnouncementNotification(us-central1)
	sendNewRequestNotificationOnCreate(us-central1)
	serviceRequestUpdateManager(us-central1)
[debug] [2025-08-21T16:10:39.396Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:39.396Z] Checked if tokens are valid: true, expires at: 1755795573236
[debug] [2025-08-21T16:10:39.396Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/alqabas-80720/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-08-21T16:10:41.102Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/alqabas-80720/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-08-21T16:10:41.103Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/alqabas-80720/locations/us-central1/repositories/gcf-artifacts {"name":"projects/alqabas-80720/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-08-21T16:03:25.084149Z","updateTime":"2025-08-21T16:05:04.127913Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"95700934","vulnerabilityScanningConfig":{"lastEnableTime":"2025-08-21T16:03:16.643094541Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/alqabas-80720/gcf-artifacts"}
[debug] [2025-08-21T16:10:41.103Z] Functions deploy failed.
[debug] [2025-08-21T16:10:41.103Z] {
  "endpoint": {
    "id": "sendNewRequestNotificationOnCreate",
    "project": "alqabas-80720",
    "region": "us-central1",
    "entryPoint": "sendNewRequestNotificationOnCreate",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "serviceRequests/{requestId}"
      },
      "region": "me-central2"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "alqabas-80720",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/alqabas-80720/locations/us-central1/services/sendNewRequestNotificationOnCreate"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "38be4062d545c56ec00ec5742b37dfeaff6d16fb"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/alqabas-80720/locations/us-central1/functions/sendNewRequestNotificationOnCreate"
    },
    "exit": 1,
    "message": "Failed to create function projects/alqabas-80720/locations/us-central1/functions/sendNewRequestNotificationOnCreate",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 403,
            "message": "Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendnewrequestnotificationoncreate-803307: Permission denied on 'locations/me-central2' (or it may not exist).",
            "status": "PERMISSION_DENIED"
          }
        },
        "response": {
          "statusCode": 403
        }
      },
      "exit": 1,
      "message": "Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=sendNewRequestNotificationOnCreate had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendnewrequestnotificationoncreate-803307: Permission denied on 'locations/me-central2' (or it may not exist).",
      "status": 403
    },
    "status": 403,
    "code": 403
  }
}
[debug] [2025-08-21T16:10:41.103Z] {
  "endpoint": {
    "id": "serviceRequestUpdateManager",
    "project": "alqabas-80720",
    "region": "us-central1",
    "entryPoint": "serviceRequestUpdateManager",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.updated",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "serviceRequests/{requestId}"
      },
      "region": "me-central2"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "alqabas-80720",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/alqabas-80720/locations/us-central1/services/serviceRequestUpdateManager"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "38be4062d545c56ec00ec5742b37dfeaff6d16fb"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/alqabas-80720/locations/us-central1/functions/serviceRequestUpdateManager"
    },
    "exit": 1,
    "message": "Failed to create function projects/alqabas-80720/locations/us-central1/functions/serviceRequestUpdateManager",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 403,
            "message": "Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/servicerequestupdatemanager-497975: Permission denied on 'locations/me-central2' (or it may not exist).",
            "status": "PERMISSION_DENIED"
          }
        },
        "response": {
          "statusCode": 403
        }
      },
      "exit": 1,
      "message": "Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=serviceRequestUpdateManager had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/servicerequestupdatemanager-497975: Permission denied on 'locations/me-central2' (or it may not exist).",
      "status": 403
    },
    "status": 403,
    "code": 403
  }
}
[debug] [2025-08-21T16:10:41.103Z] {
  "endpoint": {
    "id": "sendAnnouncementNotification",
    "project": "alqabas-80720",
    "region": "us-central1",
    "entryPoint": "sendAnnouncementNotification",
    "platform": "gcfv2",
    "runtime": "nodejs22",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "announcements/{announcementId}"
      },
      "region": "me-central2"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"alqabas-80720\",\"databaseURL\":\"https://alqabas-80720-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"alqabas-80720.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "alqabas-80720",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/alqabas-80720/locations/us-central1/services/sendAnnouncementNotification"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "38be4062d545c56ec00ec5742b37dfeaff6d16fb"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/alqabas-80720/locations/us-central1/functions/sendAnnouncementNotification"
    },
    "exit": 1,
    "message": "Failed to create function projects/alqabas-80720/locations/us-central1/functions/sendAnnouncementNotification",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 403,
            "message": "Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendannouncementnotification-633659: Permission denied on 'locations/me-central2' (or it may not exist).",
            "status": "PERMISSION_DENIED"
          }
        },
        "response": {
          "statusCode": 403
        }
      },
      "exit": 1,
      "message": "Request to https://cloudfunctions.googleapis.com/v2/projects/alqabas-80720/locations/us-central1/functions?functionId=sendAnnouncementNotification had HTTP Error: 403, Validation failed for trigger projects/alqabas-80720/locations/me-central2/triggers/sendannouncementnotification-633659: Permission denied on 'locations/me-central2' (or it may not exist).",
      "status": 403
    },
    "status": 403,
    "code": 403
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to create function sendNewRequestNotificationOnCreate in region us-central1
[error] - Error Failed to create function serviceRequestUpdateManager in region us-central1
[error] - Error Failed to create function sendAnnouncementNotification in region us-central1
